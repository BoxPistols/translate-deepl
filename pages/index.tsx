import Head from 'next/head'
import { Box, Container, Typography } from '@mui/material'
import { Translate } from '@/components/Translate'
import styles from '../src/styles/Home.module.css'
import { TitleSet } from '@/components/TitleSet'
import IconButton from '@mui/material/IconButton'
import { useTheme } from '@mui/material/styles'
import Brightness4Icon from '@mui/icons-material/Brightness4'
import Brightness7Icon from '@mui/icons-material/Brightness7'
import React from 'react'
import FlexBox from '@/utils/FlexBox'

const ColorModeContext = React.createContext({ toggleColorMode: () => {} })

export default function Home({ toggleTheme }) {
  const theme = useTheme()
  const colorMode = React.useContext(ColorModeContext)

  return (
    <>
      <Head>
        <title>Translate for i18n Deepl</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <header>
        <FlexBox
          fx
          ai_c
          jc_e
          height={32}
          pt={2}
          px={1}
          width={'100%'}
          onClick={toggleTheme}
        >
          {/* // ダークモード切り替えボタン */}
          <IconButton
            sx={{ ml: 1 }}
            onClick={colorMode.toggleColorMode}
            color="inherit"
          >
            {theme.palette.mode === 'dark' ? (
              <Brightness7Icon />
            ) : (
              <Brightness4Icon />
            )}
          </IconButton>
          <Typography variant="caption" mr={1}>
            {theme.palette.mode === 'dark' ? 'Dark Mode' : 'Light Mode'}
          </Typography>
        </FlexBox>
      </header>

      <Container maxWidth="xl">
        <div className={styles.container}>
          <main className={styles.main}>
            <TitleSet
              component="h1"
              variant="h3"
              headingText="Deep Translate for i18n & json"
              subtitleText="日本語から英語に翻訳と同時に、日英セットで各json形式で書き出されます"
            />
            <Box my={2}>
              <Translate />
            </Box>
          </main>
        </div>
      </Container>
    </>
  )
}
